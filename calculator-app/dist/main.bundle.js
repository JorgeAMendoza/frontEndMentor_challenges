(()=>{"use strict";const e=(e,t)=>e-t,t=(e,t)=>e*t,a=(e,t)=>e/t,s=(e,t,a,s)=>{for(;0!==a.length;){let e=a.pop();if(("+"===e||"-"===e?1:2)<t){a.push(e);break}s.push(e)}a.push(e)},n=()=>{const n={inputDisplay:document.querySelector(".input-display__text"),keyInput:document.querySelectorAll(".calc-input__option")};let c=!1;const o=e=>{const t=e.target.dataset.value;switch(c&&(n.inputDisplay.textContent="",c=!1),t){case"del":p();break;case"reset":r();break;case"=":u(n.inputDisplay.textContent);break;case"+":case"-":case"/":case".":case"*":i(t);break;default:l(t)}},l=e=>{13!==n.inputDisplay.textContent.length&&(n.inputDisplay.textContent+=e)},i=e=>{const t=n.inputDisplay.textContent.length,a=n.inputDisplay.textContent.charAt(t-1);"*"!==a&&"+"!==a&&"-"!==a&&"/"!==a&&"."!==a&&(n.inputDisplay.textContent+=e)},p=()=>{const e=n.inputDisplay.textContent;n.inputDisplay.textContent=e.slice(0,e.length-1)},r=()=>{n.inputDisplay.textContent=""},u=o=>{const l=o.charAt(0);if("+"===l||"-"===l||"/"===l||"*"===l||"."===l)return;const i=(e=>{const t=[],a=[];for(let n of e)switch(n){case"+":case"-":s(n,1,a,t);break;case"*":case"/":s(n,2,a,t);break;default:t.push(n)}for(;0!==a.length;)t.push(a.pop());return t})(n.inputDisplay.textContent.replace(/([+-])/gi," $1 ").replace(/([/*])/gi," $1 ").split(" "));var p;p=(s=>{const n=[];let c,o,l;for(let i=0;i<s.length;i++){const p=s[i];if(isNaN(p)){switch(o=+n.pop(),c=+n.pop(),p){case"+":l=c+o;break;case"-":l=e(c,o);break;case"*":l=t(c,o);break;case"/":l=a(c,o);break;default:l=0}n.push(l)}else n.push(p)}const i=n.pop();return i%1==0?i:i.toFixed(3)})(i),n.inputDisplay.textContent=p.toLocaleString(),c=!0};n.keyInput.forEach((e=>e.addEventListener("click",o)))};(()=>{const e={pageBody:document.querySelector("body"),themeSelect:document.querySelectorAll("input[type='radio']"),themeTab:document.querySelector(".theme-select__tab")},t=JSON.parse(localStorage.getItem("theme"))||"theme-1",a=t=>{const a=t.target.dataset.theme;switch(e.pageBody.classList.remove("theme-1","theme-2","theme-3"),a){case"1":e.pageBody.classList.add("theme-1"),localStorage.setItem("theme",JSON.stringify("theme-1"));break;case"2":e.pageBody.classList.add("theme-2"),localStorage.setItem("theme",JSON.stringify("theme-2"));break;case"3":e.pageBody.classList.add("theme-3"),localStorage.setItem("theme",JSON.stringify("theme-3"))}};e.themeSelect.forEach((e=>e.addEventListener("change",a))),e.pageBody.classList.add(t)})(),n()})();