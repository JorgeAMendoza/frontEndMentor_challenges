(()=>{"use strict";function e(e,t){if(t)return Math.round(100*e)/100;const r=new RegExp("^-?\\d+(?:.\\d{0,2})?");return Number(e.toString().match(r)[0])}function t(){const t={calculateTip:(t,r,n)=>{const o=((e,t)=>e/t)(((e,t)=>e*(1+t))(t,r),n),u=((e,t,r)=>e*t/r)(t,r,n);return{tipTotal:e(o,!0),tipAmount:e(u,!1)}}},r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});return{validateInputs:(e,t,r)=>{const n=Number(e.querySelector("input").value),o=Number(r.querySelector("input").value);let u;var i;u=t.querySelector("input").value?Number(t.querySelector("input").value):t.querySelector(".active")?Number(t.querySelector(".active").dataset.tipPercent):0,(i=n)>0&&i<1e3?e.classList.remove("error"):e.classList.add("error"),!function(e){return e>0&&e<100}(u)?t.querySelector("input").classList.add("error"):t.querySelector("input").classList.remove("error"),!function(e){return e>0&&e<100}(o)?r.classList.add("error"):r.classList.remove("error")},calculateTip:(e,n,o,u,i)=>{const c=Number(e.querySelector("input").value),a=Number(o.querySelector("input").value),l=Number(n.querySelector("input").value)/100||Number(n.querySelector(".active").dataset.tipPercent),s=u,p=i,{tipTotal:m,tipAmount:d}=t.calculateTip(c,l,a);s.textContent=r.format(d),p.textContent=r.format(m)},resetCalculator:(e,t,r,n,o)=>{const u=e.querySelector("input"),i=t.querySelector("input"),c=t.querySelectorAll("button"),a=r.querySelector("input"),l=n,s=o;u.value="",i.value="",a.value="",e.classList.remove("error"),i.classList.remove("error"),r.classList.remove("error"),c.forEach((e=>e.classList.remove("active"))),l.textContent="0.00",s.textContent="0.00"}}}!function(){const e=t(),r={billInputContainer:document.querySelector(".bill__input"),tipPercentContainer:document.querySelector(".tip-percent__container"),peopleInputContainer:document.querySelector(".people-amount__input"),tipPercentInput:document.querySelector(".tip-percent__container input"),tipPercentButtons:document.querySelectorAll(".tip-percent button"),tipAmountText:document.querySelector("#tip-amount__per-person"),tipTotalText:document.querySelector("#tip-amount__total"),resetButton:document.querySelector("#resetButton"),peopleErrorMessage:document.querySelector("#peopleError")},n=()=>{e.validateInputs(r.billInputContainer,r.tipPercentContainer,r.peopleInputContainer),r.peopleErrorMessage.classList.remove("show-error"),r.billInputContainer.classList.contains("error")||r.tipPercentInput.classList.contains("error")||r.peopleInputContainer.classList.contains("error")?r.peopleInputContainer.classList.contains("error")&&r.peopleErrorMessage.classList.add("show-error"):e.calculateTip(r.billInputContainer,r.tipPercentContainer,r.peopleInputContainer,r.tipAmountText,r.tipTotalText)},o=e=>{r.tipPercentButtons.forEach((e=>e.classList.remove("active"))),r.tipPercentInput.value="",e.target.classList.add("active"),n()};r.billInputContainer.addEventListener("change",n),r.peopleInputContainer.addEventListener("change",n),r.tipPercentInput.addEventListener("change",(()=>{r.tipPercentButtons.forEach((e=>e.classList.remove("active"))),n()})),r.tipPercentButtons.forEach((e=>e.addEventListener("click",o))),r.resetButton.addEventListener("click",(()=>{e.resetCalculator(r.billInputContainer,r.tipPercentContainer,r.peopleInputContainer,r.tipAmountText,r.tipTotalText)}))}()})();